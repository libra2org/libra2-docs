---
title: "Surf: TypeScript Type Safety for Move Contracts"
---

import { Steps, TabItem, Tabs } from '@astrojs/starlight/components';

## What is Surf

Surf is a TypeScript library built on top of the Libra2 TypeScript SDK and the wallet adapter that provides static type safety for your Move contracts by inferring type from contract ABI (Application Binary Interface). It allows you to catch type errors at compile time rather than at runtime. Most existing TypeScript IDEs will automatically provide warnings if you try to access fields that don't exist, or provide wrong input types.

## Usage

<Steps>
  1. Step 1

     First, download the ABI of the Move contract and save it to a TypeScript file. In this case, we're naming the file `abi.ts` in the `src/utils` folder.

     <Tabs>
       <TabItem label="macOS & Linux">
         ```shellscript filename="get_abi.sh"
         #! /bin/bash

         # replace it with the network your contract lives on
         NETWORK=testnet
         # replace it with your contract address
         CONTRACT_ADDRESS=0x12345
         # replace it with your module name, every .move file except move script has module_address::module_name {}
         MODULE_NAME=fungible_asset_launchpad

         # save the ABI to a TypeScript file
         echo "export const ABI = $(curl https://fullnode.$NETWORK.libra2labs.com/v1/accounts/$CONTRACT_ADDRESS/module/$MODULE_NAME | sed -n 's/.*"abi":\({.*}\).*}$/\1/p') as const" > abi.ts
         ```
       </TabItem>

       <TabItem label="Windows">
         ```powershell filename="get_abi.ps1"
         # replace it with the network your contract lives on
         $NETWORK = "testnet"
         # replace it with your contract address
         $CONTRACT_ADDRESS = "0x1"
         # replace it with your module name, every .move file except move script has module_address::module_name {}
         $MODULE_NAME = "fungible_asset_launchpad"

         # save the ABI to a TypeScript file
         Invoke-RestMethod -Uri "https://fullnode.$NETWORK.libra2labs.com/v1/accounts/$CONTRACT_ADDRESS/module/$MODULE_NAME" |
             Select-Object -ExpandProperty abi | ConvertTo-Json -Compress |
             Foreach-Object { "export const ABI = $_ as const" } |
             Out-File -FilePath "abi.ts"
         ```
       </TabItem>
     </Tabs>

  2. Step 2

     With the ABI, you can use Surf as a layer on top of the Libra2 TypeScript SDK client `Libra2`, when interacting with Move contracts. For non-contract related operations, the `Libra2` will still need to be used.

     ```typescript filename="src/utils/libra2.ts"
     import { createSurfClient } from '@thalalabs/surf';
     import { Libra2, Libra2Config, NETWORK } from "@libra2-core/ts-sdk";
     import { ABI } from "./abi";

     // First, create an Libra2 client, make sure the network is the one that contract lives on
     export const libra2 = new Libra2(new Libra2Config({ network: Network.DEVNET }));
     // Second, create a SurfClient with the Libra2 client and the ABI
     export const surfClient = createSurfClient(libra2).useABI(ABI);

     // Use Surf to executes an entry function
     const result = await surfClient.entry.transfer({
       functionArguments: ['0x1', 1],
       typeArguments: ['0x1::libra2_coin::Libra2Coin'],
       account: Account.fromPrivateKey(...),
     });

     // Use Surf to query a view function
     const [balance] = await surfClient.view.balance({
       functionArguments: ['0x1'],
       typeArguments: ['0x1::libra2_coin::Libra2Coin'],
     });
     ```
</Steps>

## Resources

- [Surf GitHub](https://github.com/ThalaLabs/surf)
- [A simple Next.js example demonstrating Surf](https://github.com/ThalaLabs/surf/tree/main/example)
- [An example of a fungible asset launchpad using Surf](https://github.com/libra2org/move-by-examples/tree/main/fungible-asset-launchpad): This example is part of the Solana to Libra2 guide on Libra2 Learn, you can try it [here](https://fungible-asset-launchpad.vercel.app/) and read the complete tutorial [here](https://learn.libra2labs.com/en/tutorials/aptogotchi-intermediate/fungible-assets?workshop=solana-to-libra2).

## Credits

Surf is built by [Thala Labs](https://thala.fi/), an Libra2 ecosystem project, and maintained together by the Libra2 community.

## Feedback

If you have any feedback or questions, please open an issue on [Surf's GitHub](https://github.com/ThalaLabs/surf/issues).
